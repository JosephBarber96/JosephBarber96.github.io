<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- My CSS -->
    <link rel="stylesheet" href="style.css">

    <title>Joseph Barber</title>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top" style="margin-bottom: 15px">
        <span class="navbar-brand m_brand">Joseph Barber</span>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav ml-auto">
                <a class="nav-item nav-link ml-auto active" href="#">Projects</a>
                <a class="nav-item nav-link ml-auto" href="cv.html">CV</a>
                <a class="nav-item nav-link ml-auto" href="contact.html">Contact</a>
            </div>
        </div>
    </nav>


    <h2 class="text-center">Unity Tool: Dialogue Editor </h2>
    <p style="background-color:yellow;" class="text-center">This is a work-in-progress page. Not ready yet for public viewing.</p>

    <div class="container">

        <!-- Video tutorial -->
        <h4 class="m_heading">Video Tutorial.</h4>
        <div class="row">
            <div class="col-sm">
                <p style="background-color:yellow;" class="text-center">This youtube video will be replaced with the tutorial when it is finished.</p>
                <iframe src="https://www.youtube.com/embed/hMLkX4Oi1oY" class="m_centeredVideo"> </iframe>
            </div>
        </div>
        <hr>

        <!-- Written tutorial -->
        <h4 class="m_heading">Written Tutorial.</h4>
        <ol>
            <li><a href="#editor">Conversation Editor</a></li>
            <li><a href="#prefab">Conversation Manager + UI Prefab</a></li>
            <li><a href="#callbacks">Callbacks</a></li>
            <li><a href="#datastructure">Conversation datastructure</a></li>
        </ol>

        <div id="editor">
            <h5 class="text-center">Conversation Editor</h5>
            <p>In order to create a conversation, create a new GameObject and give it the script NPCConversation.</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_1.png"/>

            <p>Open the editor window by selecting Window->DialogueEditor</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_2.png"/>

            <p>Select your object with the script in the hierarchy to view this conversation in the editor window. A new conversation begins with a single Speech node.</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_3.png"/>

            <p>Select a node to edit it. A speech node has the following variables:</p>
            <ul>
                <li>Dialogue: This is the speech for the node.</li>
                <li>Icon: This is the icon of the NPC that will appear next to the speech.</li>
                <li>Audio: This is an optional variable, you can play audio with this speech.</li>
                <li>TMP Font: This is the TextMeshPro font for this speech. You are able to set fonts on a node-by-node basis.</li>
                <li>Events: These are Unity Events that will run when this speech node in a conversation is played.</li>
            </ul>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_4.png"/>

            <p>A speech node can have multiple options. These are the options the player can choose. Options can be created by right-clicking on the node and clicking "Create Option". Speech nodes can 
                also be connected to pre-existing option nodes. This allows for branching and re-connecting conversation paths.</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_5.png"/>

            <p>Option nodes have the following variables:</p>
            <ul>
                <li>Option Text: the text which appears in the option box.</li>
                <li>TMP Font: A custom font for this option.</li>
            </ul>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_6.png"/>

            <p>Option nodes lead to a speech node. Selecting this option in-game will lead onto the connected speech node. You can either create a new speech node or 
                connect an option to an existing speech-node by right-clicking on the option node.
            </p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_7.png"/>

            <p>Unwanted connections between nodes can be deleted by right-clicking on the arrow and clicking "Delete this connection"</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_8.png"/>

            <p>Likewise, unwanted nodes can also be deleted by right-clicking on the ndoe and clicking "Delete this node". Deleting a node will also delete any connection to and from this node.</p>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_9.png"/>
            <img class="m_tutorialImage" src="images/dialogueeditor/tut_10.png"/>
        </div>
        <hr>

        <div id="prefab">
            <h5 class="text-center">Conversation Manager + UI Prefab</h5>
            <p>todo</p>            
        </div>
        <hr>

        <div id="callbacks">
            <h5 class="text-center">Callbacks</h5>
            <p>If you are using the ConversationManager UI Prefab, there are two callbacks you can use which are invoked when a conversation starts and ends, respectively.</p>
            <pre>
                <code class="m_code">
DialogueEditor.ConversationManager.OnConversationStarted
DialogueEditor.ConversationManager.OnConversationEnded
                </code>
            </pre>

            <p>Example use-case:</p>
            <pre>
                <code>
using UnityEngine;
using DialogueEditor;

public class ExampleClass : MonoBehaviour
{
    private void OnEnable()
    {
        ConversationManager.OnConversationStarted += ConversationStart;
        ConversationManager.OnConversationEnded += ConversationEnd;
    }

    private void OnDisable()
    {
        ConversationManager.OnConversationStarted -= ConversationStart;
        ConversationManager.OnConversationEnded -= ConversationEnd;
    }

    private void ConversationStart()
    {
        Debug.Log("A conversation has began.");
    }

    private void ConversationEnd()
    {
        Debug.Log("A conversation has ended.");
    }
}
                </code>
            </pre>
        </div>
        <hr>

        <div id="datastructure">
            <h5 class="text-center">Conversation datastructure</h5>
            <p>todo</p>
        </div>
        <hr>

    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body s>

</html>